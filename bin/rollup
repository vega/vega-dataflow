#!/usr/bin/env node

var rollup = require('rollup'),
    nodeResolve = require('rollup-plugin-node-resolve');

rollup.rollup({
  entry: 'index.js',
  plugins: [nodeResolve({jsnext: true})]
}).then(function(bundle) {
  return bundle.write({
    format: 'umd',
    moduleName: 'vega',
    dest: 'build/vega-dataflow.js'
  });
}).then(function() {
  console.warn('â†³ build/vega-dataflow.js');
}).catch(abort);

function abort(error) {
  console.error(error.stack);
}
